\documentclass[arhiv]{../izpit}
\usepackage{fouriernc}
\usepackage{xcolor}
\usepackage{tikz}

\begin{document}

\izpit{Programiranje I: 3.\ izpit}{29.\ avgust 2017}{
  Čas reševanja je 150 minut.
  \textbf{Funkcij v Haskellu ne pozabite opremiti z ustrezno signaturo.}
  Veliko uspeha!
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\naloga[Matrike, 20 točk]

Matriko v Haskellu predstavimo kot seznam seznamov.

\begin{verbatim}
  type Matrika a = [[a]]
  x = [[1, 2], [3, 4]] :: Matrika Int
  y = [[1, 3], [2, 4]] :: Matrika Int
  z = [[0, 1], [-2, 1]] :: Matrika Int
\end{verbatim}

\podnaloga
  Napravite podatkovni tip \texttt{Matrika a} za element razreda \texttt{Num}.
  Pri tem naj operatorja \texttt{+} in \texttt{*} ustrezata običanjemu seštevanju
  in množenju matrik.

\podnaloga
  Definirajte funkcijo \texttt{zmnozi}, ki sprejme seznam matrik in vrne
  njihov produkt.
  \begin{verbatim}
  ghci> zmnozi [x,y,z]
  [[-22, 16], [-50, 36]]
  \end{verbatim}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\naloga[Seznam množic, 20 točk]

Množice števil v Haskellu predstavimo s seznamom.

\begin{verbatim}
  type Mnozica = [Int]
  a = [1, 2, 3] :: Mnozica
  b = [2, 3, 4] :: Mnozica
  c = [1..10] :: Mnozica
\end{verbatim}

\podnaloga
  Sestavite funkcijo \texttt{presek}, ki sprejme neprazen seznam množic
  in vrne njihov presek.

  \begin{verbatim}
  ghci> presek [a, []]
  []
  ghci> presek [a, b, c]
  [2, 3]
  \end{verbatim}

\podnaloga
  Sestavite funkcijo \texttt{sodokrat}, ki sprejme seznam množic in vrne
  množico, ki vsebuje natanko tiste elemente, ki se pojavijo v sodo mnogo
  množicah vhodnega seznama.

  \begin{verbatim}
  ghci> sodokrat [a, b, c]
  []
  ghci> sodokrat [a, b]
  [2, 3]
  ghci> sodokrat [b, c]
  [2, 3, 4]
  ghci> sodokrat [a, a]
  [1, 2, 3]
  ghci> sodokrat [c, c, c]
  []
  \end{verbatim}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\naloga[Bombaž, 20 točk]
  Vzdolž Evfrata je $n$ bombažnih polj. Z $i$-tega polja pridobimo $w_i$
  kilogramov bombaža. Ves ta bombaž želimo porazdeliti po natanko $k$
  poljih, od koder bo odpeljan dalje. To porazdelitev napravimo v
  skladu z naslednjimi pravili:

  \begin{enumerate}
    \item Bombaž lahko premaknemo med katerima koli poljema.
    \item Pri prenašanju bombaža z enega polja na drugo moramo prenesti
    ves bombaž, ki je na voljo na prvem polju.
    \item Prenos $w$ kilogramov bombaža s polja na lokaciji $x_i$ na polje
    na lokaciji $x_j$ nas stane $w \cdot |x_i - x_j|$ evrov.
  \end{enumerate}

 Sestavite funkcijo \texttt{bombaz}, ki sprejme seznam
 lokacij bombažnih polj $[x_i]_{i=1}^n$, seznam kilogramov bombaža na vsakem od polj 
 $[w_i]_{i=1}^n$ in
 število $k$ ter {\em učinkovito} izračuna najmanjšo ceno, ki je potrebna,
 da ves bombaž porazdelimo po natanko $k$ poljih.

  \begin{verbatim}
  >>> bombaz([20, 30, 40], [1, 1, 1], 1)
  20
  >>> bombaz([10, 12, 16, 18, 30, 32], [15, 17, 18, 13, 10, 1], 2)
  182
  \end{verbatim}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\naloga[Pogost element, 20 točk]

  Seznam objektov ima {\em pogost element}, če je več kot pol njegovih elementov
  enakih. Elementi seznama med sabo niso nujno primerljivi z operatorjema \texttt{<}
  in \texttt{>}, lahko pa jih v konstantnem času primerjamo z operatorjem
  \texttt{=}. 

  \podnaloga Sestavite funkcijo \texttt{pogost}, ki kot vhod sprejme seznam
  objektov in vrne njegov pogost element, če ta obstaja. V nasprotnem primeru naj
  funkcija vrne \texttt{None}. Funkcija naj deluje v času $O(n \log n)$, pri 
  čemer je $n$ dolžina vhodnega seznama.

  \begin{verbatim}
  >>> pogost([1,2,3])
  None
  >>> pogost([1,1,2,1,3,4])
  None
  >>> pogost([1,1,2,1,3,1])
  1
  \end{verbatim}

  \podnaloga Ali obstaja algoritem, ki opravi enako kot funkcija v prejšnji
  točki, deluje pa v linearnem času?

\end{document}

